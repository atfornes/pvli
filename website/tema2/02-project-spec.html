<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title></title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">



  <link rel="stylesheet" href="../shared/lib/reveal/../tabzilla/css/tabzilla.css"/>
  <link rel="stylesheet" href="../shared/lib/reveal/css/theme/mozilla-devrel-light.css"/>

  <link rel="stylesheet" href="../shared/lib/reveal/lib/css/solarized-light.css" />




  <link rel="stylesheet" href="../shared/lib/reveal/css/reveal.css">
  <style type="text/css">code{white-space: pre;}</style>
<!--  -->
<!--   <link rel="stylesheet" href="../shared/lib/reveal/css/theme/black.css" id="theme"> -->
<!--  -->
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? '../shared/lib/reveal/css/print/pdf.css' : '../shared/lib/reveal/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="../shared/lib/reveal/lib/js/html5shiv.js"></script>
  <![endif]-->
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>


<!-- FIXME megahack because `pandoc` only generates h1's. -->
<style type="text/css">
    .level2 h1 {
        
    border-top: 0.1em solid #484848;
    border-bottom: 0.1em solid #484848;
    
    padding: 1em 0;
    margin-bottom: 1em;
    font-size: 1.6em;
    margin: 0 0 20px 0;
    color: #484848;
    font-family: "Fira Sans", Helvetica, sans-serif;
    font-weight: 600;
    line-height: 1.2;
    letter-spacing: normal;
    text-transform: uppercase;
    text-shadow: none;
    word-wrap: break-word;
}

</style>


</head>
<body>
  <div class="reveal">
    <div class="slides">


<section id="batalla-rpg" class="slide level1">
<h1>Batalla RPG</h1>
<p>El ejercicio consiste en modelar e implementar una batalla de un RPG por turnos en formato conversacional.</p>
<p>Un grupo de personajes controlados por el jugador (PJs) se enfrentará a un grupo de monstruos controlados por el ordenador (PNJs). Los combatientes se ordenan al comienzo de la batalla y actúan siguiendo este orden.</p>
<p>La batalla termina cuando uno de los bandos ha sido totalmente derrotado. Si el bando derrotado es el de los PJs, el juego termina y el jugador pierde. En caso de que todos los PNJs hayan sido derrotados, el juego también termina y el jugador gana.</p>
<h2 id="los-personajes">Los personajes</h2>
<p>Tanto PJs como PNJs poseen un <strong>arma</strong> con la que atacar a sus oponentes. El arma de un personaje es un <a href="#/objetos">objeto</a>.</p>
<p>Además, los personajes poseen características que influirán en su valía durante el combate. Tales características son iniciativa, defensa, puntos de mana, puntos de maná máximos, puntos de vida y puntos de vida máximos.</p>
<p>La <strong>iniciativa</strong> determina el orden en el que los personajes apareceren en la lista de turnos. Cuanto más alto, antes aparecen en esta lista.</p>
<p>La <strong>defensa</strong> establece la probabilidad (del 0 al 100) de que un <a href="#/efectos">efecto</a> actúe sobre el personaje.</p>
<p>Los <strong>puntos de maná</strong> sirven para pagar los costes mágicos de los hechizos y los <strong>puntos de vida</strong> indican cuánto daño es capaz de resistir el personaje antes de ser declarado muerto. Ambas características están ligadas a unos valores máximos <strong>puntos de maná máximos</strong> y <strong>puntos de vida máximos</strong> respectivamente que no pueden sobrepasar.</p>
<p>La siguiente tabla resume las características:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Característica</th>
<th style="text-align: right;">Mínimo</th>
<th style="text-align: right;">Máximo</th>
<th style="text-align: center;">Limitado por</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Iniciativa</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-</td>
<td style="text-align: center;">-</td>
</tr>
<tr class="even">
<td style="text-align: left;">Defensa</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: center;">-</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Puntos de vida</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-</td>
<td style="text-align: center;">Puntos de vida máximos</td>
</tr>
<tr class="even">
<td style="text-align: left;">Puntos de maná</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-</td>
<td style="text-align: center;">Puntos de maná máximos</td>
</tr>
</tbody>
</table>
<p>Los personajes tienen también un <strong>nombre</strong> que los identifica en la interfaz de usuario y un <strong>arma</strong> con la que podrán atacar a otros personajes.</p>
<p>De entre los personajes, los PNJs tendrán asociada una <strong>IA</strong> que <a href="#/ia-enemiga">tomará las decisiones</a> de batalla cuando les llegue el turno.</p>
<h2 id="armas">Armas</h2>
<p>Las armas son elementos del juego que pueden equiparse en los personajes. Todas las armas han de tener un <a href="#/efectos">efecto</a> que <strong>decrezca los puntos de vida del objetivo</strong>. Las armas no se gastan ni tienen coste y al adquirirse por un personaje reemplazan su arma actual sin pasar por el <a href="#/inventario-común">inventario común</a>.</p>
<p>Nuestra definición de arma incluye también las extremidades corporales que se utilicen para causar daño. Un personaje sin arma <strong>no puede</strong> <a href="#/atacar">atacar</a>. Si desea atacar <em>con sus manos desnudas</em> habrá de equipar el arma <em>puños</em>, por ejemplo.</p>
<p>De forma similar los personajes monstruosos usarán armas tales como las <em>garras</em>, <em>tentáculos</em> o <em>aguijones</em> para infligir daño en sus víctimas.</p>
<h2 id="pergaminos">Pergaminos</h2>
<p>Los pergaminos desatan magia al ser leídos en voz alta. Como las armas, tampoco se gastan pero han de tener un coste <strong>para el usuario en puntos de maná</strong>. El efecto puede ser cualquiera y al adquirirse se almacenan en el <a href="#/grimorio-común">grimorio común</a>. En este RPG simplificado no hay profesiones y todos los personajes pueden lanzar hechizos.</p>
<h3 id="grimorio-común">Grimorio común</h3>
<p>El grimorio común es la colección de pergaminos de la que disponen los PJs para lanzar hechizos. Se accede a él usando la <a href="#/acciones">acción <em>Magia</em></a> del menú de acciones.</p>
<h2 id="objetos">Objetos</h2>
<p>Al contrario que armas y pergaminos, los objetos son elementos del juego fungibles (que se gastan). Su <a href="#/efectos">efecto</a> y <a href="#/costes">coste</a> pueden ser cualesquiera. Los objetos se acumulan en el <a href="#/inventario-común">inventario común</a>.</p>
<h3 id="inventario-común">Inventario común</h3>
<p>El inventario común es la colección de objetos fungibles de la que disponen los PJs para utilizar durante el combate. Se accede a él usando la <a href="#/acciones">acción <em>Inventario</em></a>.</p>
<p>El inventario presenta los objetos en su interior agrupados por tipo. Cuando la cuenta de un objeto llega a cero, el espacio que ocupaba es liberado.</p>
<h2 id="el-juego">El juego</h2>
<p>La implementación mínima que habréis de entregar incluye las siguientes fases:</p>
<ol type="1">
<li class="fragment"><a href="#/la-batalla">Batalla</a></li>
<li class="fragment"><a href="#/fin-de-juego">Fin de juego</a></li>
</ol>
<p>La batalla, a su vez, se divide en 3 fases que se describen a continuación.</p>
<h3 id="la-batalla">La batalla</h3>
<p>La batalla empieza con una <a href="#/preparación">preparación</a> en la que se eligen los monstruos y se ordenan los personajes. Le sigue la fase de <a href="#/presentación">presentación</a> durante la cual se presentan los combatientes y la lista de turnos. A continuación comienza la fase de <a href="#/acciones-por-turno">acciones por turno</a>. Tras cada turno se comprueba si alguno de los bandos ha sido derrotado y en tal caso, se declara al otro como vencedor y termina la batalla.</p>
<p>En resumen: 1. Preparación 2. Presentación 3. Acciones por turno</p>
<h4 id="preparación">Preparación</h4>
<p>Durante la preparación de la batalla se elije aleatoriamente la composición del bando de monstruos compuesto por un grupo de 1 a 3 PNJs. El bando de héroes estará compuesto siempre por tres PJs.</p>
<p>Los turnos se establecen ordenando a todos los personajes de <strong>mayor a menor iniciativa</strong>. Una vez ordenados se pasa al siguiente estado.</p>
<h4 id="presentación">Presentación</h4>
<p>Durante la presentación se <strong>imprime el grupo de mosntruso</strong> y <strong>la lista de turnos</strong> y se pasa al siguiente estado.</p>
<h4 id="acciones-por-turno">Acciones por turno</h4>
<p>Los personajes actúan en el orden de la lista de turnos. Durante el turno, el personaje efectúa una única acción y pasa el turno al siguiente. Al final de cada turno se comprueba qué personajes han muerto y si los bandos ha sido <a href="#/derrota">derrotados</a>. En caso negativo, la batalla continúa con el siguiente de la lista.</p>
<p>Una vez se ha pasado por todos los personajes, se comienza desde el principio de la lista.</p>
<p>Un personaje muere si sus puntos de vida llegan a 0.</p>
<h4 id="acciones">Acciones</h4>
<p>Las acciones que puede hacer un personaje durante el turno son:</p>
<ul>
<li class="fragment">Atacar</li>
<li class="fragment">Defender</li>
<li class="fragment">Lanzar hechizo</li>
<li class="fragment">Usar objeto</li>
</ul>
<p>Excepto en <strong>defender</strong>, en todas las demás acciones intervienen el personaje <strong>activo</strong> (quién realiza la acción), el personaje <strong>objetivo</strong> (quién recibe la acción), un <strong>indicador de alianza</strong> que describe si personaje activo y objetivo son aliados o no y un elemento del juego (un arma, un pergamino o un objeto).</p>
<p>Ningún personaje objetivo puede estar muerto.</p>
<h5 id="atacar">Atacar</h5>
<p>Si el personaje decide atacar, habrá de elegir un personaje objetivo. Una vez seleccionado se aplican las <a href="#/reglas-de-efecto">reglas de efecto</a> sobre el arma, el objetivo y el indicador de alianza.</p>
<h5 id="defender">Defender</h5>
<p>Si el personaje decide defender, recupera un 10% de sus puntos de vida.</p>
<h5 id="lanzar-hechizo">Lanzar hechizo</h5>
<p>Si el personaje decide lanzar hechizo, habrá de elegir el pergamino que quiera leer de entre aquellos en el <a href="#/grimorio-común">grimorio común</a> El coste del pergamino seleccionado debe ser inferior o igual a los puntos de maná del personaje activo. En caso contrario no se podrá usar ese pergamino.</p>
<p>Una vez seleccionado el pergamino, se procede a elegir el objetivo y una vez elegido el objetivo, se aplican las <a href="#/reglas-de-efecto">reglas de efecto</a> con el efecto del pergamino, el objetivo y el indicador de alianza.</p>
<p>A continuación se descuenta el coste del pergamino de los puntos de maná corrigiendo el nuevo valor para que no se salga del rango.</p>
<h5 id="usar-objeto">Usar objeto</h5>
<p>Igual que en lanzar hechizo, al usar un objeto, el personaje activo habrá de elegir el objeto de entre el <a href="#/inventario-común">inventario común</a>. Una vez elegido, tendrá que seleccionar un objetivo. Elegidos objeto y objetivo se aplicarán las <a href="#/reglas-de-efecto">reglas de efecto</a> para el efecto del objeto, el personaje objetivo y el indicador de alianza.</p>
<p>A continuación se descuenta una unidad del objeto seleccionado y se retira del inventario si llega a 0 objetos.</p>
<h3 id="fin-de-juego">Fin de juego</h3>
<p>Si es el bando de PNJs es el que resulta vencedor, se informa al jugador de que ha perdido y la partida termina.</p>
<p>Si por el contrario, es el bando de PJs el que resulta vencedor, la partida termina y se muestra el daño total recibido. A modo de competición, menor daño es indicativo de mejores resultados.</p>
<h2 id="efectos">Efectos</h2>
<p>Armas, objetos y pergaminos tienen <strong>un efecto asociado</strong>. El efecto es un <strong>cambio sobre una característica del personaje</strong> expresado como un número entero positivo o negativo.</p>
<p>Las <a href="#/reglas-de-efecto">reglas de efecto</a> especifican cómo se debe aplicar el efecto a un personaje durante las acciones de batalla.</p>
<h3 id="reglas-de-efecto">Reglas de efecto</h3>
<p>Las reglas de efecto esperan un efecto cualquiera, un objetivo y un indicador de alianza que indica si el objeto está siendo empleado por un aliado del objetivo o no.</p>
<p>El procedimiento es el siguiente:</p>
<ol type="1">
<li class="fragment">Si el indicador de alianza indica que son aliados, continúa con el paso 2. Si no:
<ol type="1">
<li class="fragment">Genera un número al azar del 1 al 100.</li>
<li class="fragment">Si el resultado se encuentra por debajo o es igual a la resistencia del objetivo, suspende estos pasos. Si no, continúa con el paso 2.</li>
</ol></li>
<li class="fragment">Por cada característica afectada por el efecto
<ol type="1">
<li class="fragment">Suma el valor del efecto al valor de la característica del objetivo.</li>
<li class="fragment">Corrige el valor para que se encuentre entre 0 y el máximo para esa característica, si tiene.</li>
</ol></li>
</ol>
<h2 id="control">Control</h2>
<p>Durante esta práctica no se implementará ninguna interfaz de control lo que no significa que no se pueda jugar. Para jugar, importaremos el módulo que representa nuestro juego en la consola de node y utilizaremos la API de control del juego para jugar.</p>
<h3 id="ia-enemiga">IA enemiga</h3>
<p>La inteligencia artificial enemiga sólo puede realizar <a href="#/atacar">ataques</a> contra héroes. La selección del héroe es aleatoria.</p>
</section>
    </div>
  </div>

  <script src="../shared/lib/reveal/lib/js/head.min.js"></script>
  <script src="../shared/lib/reveal/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({

        // Optional reveal.js plugins
        dependencies: [
          { src: '../shared/lib/reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '../shared/lib/reveal/plugin/zoom-js/zoom.js', async: true },
          { src: '../shared/lib/reveal/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
